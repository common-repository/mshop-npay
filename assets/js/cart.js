var mnpIsMobile={Android:function(){return navigator.userAgent.match(/Android/i)},BlackBerry:function(){return navigator.userAgent.match(/BlackBerry/i)},iOS:function(){return navigator.userAgent.match(/iPhone|iPad|iPod/i)},Opera:function(){return navigator.userAgent.match(/Opera Mini/i)},Windows:function(){return navigator.userAgent.match(/IEMobile/i)},any:function(){return mnpIsMobile.Android()||mnpIsMobile.BlackBerry()||mnpIsMobile.iOS()||mnpIsMobile.Opera()||mnpIsMobile.Windows()}};"no"===_mnp.load_script_static&&(mnpIsMobile.any()?document.write("<script type='text/javascript' src='"+_mnp.button_js_url_mobile+"' charset='UTF-8'><\/script>"):document.write("<script type='text/javascript' src='"+_mnp.button_js_url_pc+"' charset='UTF-8'><\/script>")),jQuery(function(a){var i=function(n){return n.is(".processing")||n.parents(".processing").length},c=function(n){i(n)||n.addClass("processing").block({message:null,overlayCSS:{background:"#fff",opacity:.6}})},s=function(n){n.removeClass("processing").unblock()};function n(n){var o=a("#checkout_button_wrapper"),t=a(".msbn-cb input[type=checkbox]"),e=a(".msbn-cb input[type=checkbox]:checked"),r=[];if(!i(o)){if(c(o),0<t.length){if(e.length<=0)return void alert("구매하실 상품을 선택해주세요.");a.each(e,function(n,t){r.push(t.name)})}a.ajax({type:"post",dataType:"json",url:_mnp.ajax_url,data:{action:_mnp.checkout_cart_action,msbn_keys:r.join(",")},success:function(n){var t;n.success?(t=_mnp.order_url_pc+n.data.authkey+"/"+n.data.shopcode,mnpIsMobile.any()&&(t=_mnp.order_url_mobile+n.data.authkey+"/"+n.data.shopcode),mnpIsMobile.any()||"in-page"===_mnp.transition_mode?window.location.href=t:null===window.open(t,"_blank")&&alert("팝업이 차단되어 있습니다. 팝업설정을 변경하신 후 다시 시도해주세요.")):alert(n.data.message),s(o)},error:function(){s(o)}})}}function t(){0<a("#checkout_button_wrapper.cart").length&&(a("#checkout_button_wrapper.cart").empty(),naver.NaverPayButton.apply({BUTTON_KEY:_mnp.button_key,TYPE:mnpIsMobile.any()?_mnp.button_type_mobile:_mnp.button_type_pc,COLOR:_mnp.button_color,COUNT:1,ENABLE:"Y",EMBED_ID:"checkout_button_wrapper",BUY_BUTTON_HANDLER:n}))}t(),a(document.body).on("wc_fragments_refreshed",t),0<($variation_form=a("form.variations_form")).length&&($variation_form.on("found_variation",function(n){a("#checkout_button_wrapper").css("display","block")}),$variation_form.on("hide_variation",function(n){a("#checkout_button_wrapper").css("display","none")}),$variation_form.trigger("check_variations",["",!1]))});